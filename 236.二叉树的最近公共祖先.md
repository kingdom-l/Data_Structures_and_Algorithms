236.二叉树的最近公共祖先

给定一个二叉树, 找到该树中两个指定节点的最近公共祖先。

百度百科中最近公共祖先的定义为：“对于有根树 T 的两个节点 p、q，最近公共祖先表示为一个节点 x，满足 x 是 p、q 的祖先且 x 的深度尽可能大（一个节点也可以是它自己的祖先）。”

思路：

- 终止条件：
  - 当root等于p或等于q时，直接返回root
  - 当root为空时，返回null
- 递归工作
  - 开始递归左子节点，返回值为left
  - 开始递归右子节点，返回值为right
- 返回值：根据left和right是否为空，分为四种情况
  - 当left和right都为空，说明root的左右子树中都不包含p，q，返回null
  - 当left和right都不为空，说明p，q分别位于root的异侧，因此root是p和q的最近公共祖先，返回root
  - 当left为空，right不为空时，p，q都不在root的左子树中，直接返回right。主要是两种情况：
    - 当p，q其中一个在root的右子树中，此时right指向p（假设p在右子树中）
    - 当p，q都在root的右子树中，此时right指向的是p和q的最近公共祖先节点
  - 当right为空，left不为空时，情况同上

```C++
class Solution {
public:
    TreeNode* lowestCommonAncestor(TreeNode* root, TreeNode* p, TreeNode* q) {
        if(root == NULL || root == p || root == q){
            return root;
        }
        TreeNode* left = lowestCommonAncestor(root->left, p, q);
        TreeNode* right = lowestCommonAncestor(root->right, p, q);
        if(left == NULL){
            return right;
        }
        if(right == NULL){
            return left;
        }
        if(left && right){
            return root;
        }
        return root;
    }
};
```

